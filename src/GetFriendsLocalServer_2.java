
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStreamWriter;
import java.util.ArrayList;

import twitter4j.IDs;
import twitter4j.Twitter;
import twitter4j.TwitterException;
import twitter4j.TwitterFactory;
import twitter4j.TwitterObjectFactory;
import twitter4j.User;
import twitter4j.conf.ConfigurationBuilder;
import twitter4j.api.FriendsFollowersResources;

public class GetFriendsLocalServer_2 {
	 public static void main(String[] args) throws IOException{
	        try {
	        	ConfigurationBuilder cb = new ConfigurationBuilder();
	        	cb.setDebugEnabled(true)
	        	  .setOAuthConsumerKey("5at9oIC6aqWOGYE635Cw8dX8z")
	        	  .setOAuthConsumerSecret("ACvypDRJWO5Ni2HDQxYvm9Z4uSD3MZhxVou92gFJvLg1MOO2wG")
	        	  .setOAuthAccessToken("39952747-IcSqsSoPphTWaLoIwYaUITWQ5PmeyV40bQHgkTf4C")
	        	  .setOAuthAccessTokenSecret("Nn4NEH9XE9xIb6QXu3R8kOdocncplz67Cq8RZlrOZlyOu")
	        	  .setJSONStoreEnabled(true);
	        	TwitterFactory tf = new TwitterFactory(cb.build());
	        	Twitter twitter = tf.getInstance();
	        	//Twitter twitter = new TwitterFactory().getInstance();
	            
	            IDs ids;
	            
	        	new File("new_friends_list").mkdir();
	        	
				IDs friendsIDsObj = twitter.getFriendsIDs(2777354556L,-1);
				
				//core users
				long[] friendsIDs = friendsIDsObj.getIDs();
				String friendsJSON = TwitterObjectFactory.getRawJSON(friendsIDsObj);
				String friendsListFile = "friendsList.json";
				storeJSON(friendsJSON, friendsListFile);
				//ids = twitter.getFriendsIDs(cursor);
				
				long[] allUsersArray = {302202446L,782632L,2509966249L,1469101279L,91308344L,2268690198L,553389027L,213236426L,213222099L,53089954L,15254730L,1036508786L,2258136452L,14698049L,2257104332L,2218386410L,2234070631L,19844311L,916257050L,267485701L,1260416562L,396045469L,101313519L,776581L,5369302L,45184849L,1449991944L,2324022344L,2226867176L,1420795609L,2230083151L,2241329875L,1268759210L,2333408605L,1423870044L,2209677878L,2155219346L,299952246L,2390188770L,2197377873L,2616036566L,90135167L,2309637680L,2175120708L,2314255350L,12503922L,14379660L,28813427L,19337489L,2273578802L,90565003L,19132398L,2201220235L,1387081490L,901796180L,22682896L,443484148L,2319408132L,2332842072L,38129556L,19805098L,2381420407L,2567934373L,2234577642L,2329290331L,2315539361L,2259434528L,1394496090L,40217798L,1429437746L,2435734063L,625289155L,92592782L,2347718839L,2768000832L,2392531752L,2309081983L,2406505603L,2505478057L,2228501803L,20737357L,243088415L,14200949L,65923928L,385162204L,267344900L,26499336L,334090417L,10448732L,223315248L,9337702L,301038559L,2770511L,41140413L,16330402L,2682395184L,1562625614L,818306821L,1584350917L,351306056L,2438933293L,2257350176L,15227738L,2353822842L,16404277L,73572217L,1877857849L,226974029L,62805324L,1935681L,30744136L,61417559L,392225137L,392384741L,315991624L,218484333L,2326927580L,3241231L,121486117L,143053926L,1004978042L,870835010L,210881916L,2252185436L,12137672L,513638693L,11244372L,157759025L,567059880L,67452097L,2206552629L,14601336L,2443570976L,1673570310L,2502466327L,2323068068L,2778320166L,1632855667L,32909917L,2421317989L,232644888L,2240466703L,162573283L,2478756618L,379400685L,794532L,56999514L,1390540460L,94274445L,17647739L,8731752L,101580574L,84049101L,85203198L,14910027L,2607752989L,5624402L,3496041L,2242726506L,7718322L,50330199L,1868074730L,603147106L,233318165L,15711635L,2253440382L,735523747L,857998692L,473617692L,2736952543L,804633782L,277239629L,13383032L,29762963L,1389824700L,103019186L,2379768630L,1402032307L,334161392L,18073651L,2228144390L,9103922L,22713009L,31208923L,324539863L,92281665L,142515652L,32841620L,2278064736L,14948062L,295049967L,14110443L,16214322L,527119125L,572478728L,15681800L,272871165L,167748570L,34056134L,517813520L,22680719L,2584810652L,312789382L,124192816L,140892663L,1619086339L,31395520L,2807317290L,22093237L,2375800382L,518228021L,207695851L,2287145203L,389340245L,115353954L,191932849L,81456235L,176758255L,60176671L,1728667957L,2441910085L,16489197L,816509173L,118917461L,2616345878L,392528324L,2337886340L,14338147L,1142333346L,2188593098L,1435626302L,815803254L,762324176L,2321735011L,17881672L,2319698840L,126916586L,15731156L,17498413L,22847791L,2186091102L,387976826L,18812868L,2759512869L,9732512L,2255814462L,2759513277L,2424230918L,153823771L,319371528L,15387117L,1332262141L,490808869L,167434488L,2322651270L,54008772L,1952836374L,14639500L,610700309L,2265324883L,2440641931L,28477224L,30044262L,2313732494L,477583514L,35860455L,40742821L,2193616844L,46049980L,24222556L,2157362647L,2286545720L,1854401L,123428539L,20833L,1019653598L,6853442L,250980843L,2215079746L,7032912L,5728962L,546382113L,2251914116L,2377392949L,545099162L,2412406796L,2375407375L,2549330797L,873675942L,2199528138L,2321362874L,24602177L,2384532642L,2264204664L,2528061091L,44653822L,2352157759L,2246578802L,2378261498L,1956528072L,1433249449L,2398320246L,1419245461L,2355712477L,2782868852L,11957802L,2514541536L,2216302500L,25535926L,34055382L,330592497L,27383634L,160853869L,2575425650L,546875533L,2555870456L,14005492L,6224272L,65619999L,31168433L,1617846902L,140295500L,221496969L,42515761L,2435951124L,244700064L,2159099744L,73956951L,1340639119L,32425033L,474983217L,69360421L,2587903573L,1056637586L,11154832L,194657365L,244390117L,1941220446L,591832391L,2565981289L,2523867962L,2327234359L,515910782L,2305905038L,761741244L,2275141800L,2373819572L,11492932L,381207498L,587387971L,1945063886L,2214473941L,2328674407L,2209272032L,2448449612L,2489696113L,2666862498L,2381898038L,2228054370L,2252913685L,2229852678L,2203291571L,2319505597L,2690524664L,2240534257L,563125343L,2322928862L,2728382414L,2585876432L,68074146L,2492095741L,165934859L,552881588L,24801813L,18971151L,14254182L,15146117L,855444446L,58765745L,1551509718L,2445078722L,539844104L,1717348572L,2727445014L,15503210L,2341266895L,514923997L,1216193492L,2289276960L,2343554078L,2417374764L,233485015L,2333422069L,2385708048L,2707086931L,2709638712L,177563611L,211648960L,2477516670L,1702516213L,2530053457L,23175488L,77353707L,495974881L,587898186L,1734273182L,2302854312L,2185876682L,2414296374L,1853739961L,1362854106L,2445525588L,7441202L,2232256129L,955524900L,627449668L,2432329153L,42231043L,342645141L,1640389153L,14054999L,54476445L,2359751150L,2256123019L,39574300L,1969405566L,2585565697L,2382828494L,533143173L,618332049L,11690462L,2221340467L,38757299L,14518666L,30505804L,47346306L,2216427900L,2317027969L,2364782185L,396627950L,51173758L,229089859L,34872179L,2379355442L,2436967585L,367510812L,2377233282L,1375964778L,76773950L,2431483585L,2690581038L,2293584774L,2254554986L,896141L,30699048L,1176878437L,1601122278L,2265486572L,1658625265L,1729578210L,281895688L,592857477L,1320489344L,2253392420L,2651675677L,2296472342L,1343721079L,1464431888L,565392262L,1147502875L,1656276878L,2321628201L,2222424702L,2314789616L,2506567069L,309528352L,2281314234L,1684292413L,2408520852L,2293267616L,1470772549L,272343501L,1862665472L,2320469935L,2320684119L,2200230558L,344728613L,1363931383L,1620115130L,2255064307L,2348577824L,296954422L,2359376016L,2278222638L,2281472096L,1268304721L,2578504578L,2483491644L,569423754L,228247535L,1688798832L,105540979L,1326141062L,2359114214L,2293384250L,148243590L,28867412L,2721670283L,260318791L,1376408935L,110759328L,2219424121L,2193304890L,2748860318L,2258231305L,361769415L,2203747308L,2260912466L,317794342L,1357048897L,2362506584L,2236253064L,2556759666L,231726008L,2794582430L,1581171644L,2271503325L,227094643L,2378051617L,1643500784L,434653101L,2402434130L,1307968542L,2207930881L,2236538389L,2208288600L,2294109367L,1378887414L,1424193091L,862865527L,2307110064L,1359907256L,2388011826L,2756064867L,422607867L,2330500770L,2174821902L,319260455L,1314532914L,2355374790L,2288484104L,1588043708L,1123499653L,1779603914L,1369059181L,268702954L,1377328752L,2338070737L,324030109L,2301564007L,2273488347L,217551750L,1376392219L,2259584719L,2279440566L,1444466221L,2279353240L,420989725L,2752389559L,1355460984L,2355748657L,361289499L,2191512781L,50993844L,1939511798L,1342014481L,1700563260L,2276435240L,220283722L,2186806183L,2377826948L,1368749462L,2568886163L,1690941254L,2229073848L,2515622970L,231723415L,529705522L,1297482212L,1648635552L,1700634031L,2798100253L,2230071774L,1168261224L,2614168116L,1386585607L,708541129L,197776953L,2220294078L,134707175L,1649891737L,423940083L,1350231306L,2422808521L,2425760006L,1400737837L,776597306L,2289709292L,2761436460L,1206908791L,272707360L,2361146024L,2317801904L,2601084013L,623752780L,1243391461L,1330225399L,314669871L,2312652793L,1681906322L,1691278088L,237553121L,1672449637L,296749702L,2224617715L,24769795L,2457165914L,2177957228L,341925873L,2291207785L,231729689L,851668080L,2295175279L,2394402734L,1267409424L,346387098L,1495851074L,2784323828L,1138892754L,1220646085L,220172127L,48095529L,1431204614L,2440462257L,1548901218L,1641165696L,2248014252L,1327139984L,1000155368L,1374457657L,2194944286L,2597052200L,2286933728L,2382847062L,2379014838L,1427796218L,1389006715L,2719072650L,2437294214L,1364685914L,2272498056L,2419025934L,1582321856L,2697682010L,1601388050L,386992544L,2433567654L,2528229661L,1316054317L,2616273906L,2384162762L,886832413L,700438687L,2310341449L,312312760L,2294954370L,2587517977L,1325353254L,776824056L,2269859917L,1363677223L,1544141916L,2493635792L,2288951377L,365797267L,314762910L,2737520396L,2456906899L,2561125710L,2304261787L,1199152406L,915465450L,2188471765L,2381302812L,1658726238L,1607510312L,1275836588L,2300965736L,2339878250L,1497660594L,294376526L,2398580893L,2279449182L,1461347160L,2670162336L,2303710514L,2760552737L,2349166026L,352518189L,2428684346L,89494196L,1667759496L,554251798L,1392001614L,2242401187L,1530689216L,2355206780L,2493729918L,1898706644L,2466108456L,2445629988L,2434800834L,2399043229L,2372303670L,921688218L,312425905L,2606129916L,2264204071L,2518838491L,2256561481L,2482518024L,2474379908L,2644003632L,220428765L,2429587243L,125304737L,2358580725L,2495566675L,2326047914L,2684414804L,2410801646L,92503500L,2374354472L,2393233027L,118154050L,2462142680L,2582543506L,580376124L,20745781L,2400795530L,43264740L,468583769L,14103421L,715351310L,246911146L,2608615459L,636291360L,574207605L,2312887512L,2719351057L,89144105L,3586271L,15365853L,22585953L,352982521L,26792583L,19480057L,167401415L,2565342164L,15050549L,13366L,1864153224L,2572509896L,2387227850L,2258530171L,2621349582L,2562781854L,2467204448L,1670339808L,2403620577L,2451112201L,2366354707L,9880182L,2290197408L,2735813746L,2251041373L,2258403433L,2596186036L,2299617536L,2409218864L,2240058816L,2721198895L,2338229497L,1499548657L,1534428422L,2330646421L,2225300413L,352245144L,2294834533L,2589636595L,2400511722L,2304146718L,707471022L,2353813610L,1660660554L,2236125852L,2382846655L,1051804416L,372364547L,2498306462L,824476477L,274706827L,1423461919L,2316704490L,2647543806L,2360600863L,297046747L,371934393L,2409962490L,187992149L,1850322144L,1229736559L,2779358226L,2586862430L,263936619L,2278700532L,2289196172L,1362058093L,2317438183L,1323280062L,291041299L,2164822478L,1415406679L,2467960632L,1440661586L,1477541142L,1078037029L,2257211911L,2282713568L,2261759419L,1671301014L,2373709957L,2490944009L,1360075472L,2181601622L,365654638L,2311015915L,576666003L,2182939896L,305854715L,1347506222L,2173116042L,2769537696L,79085984L,2284315896L,2393106025L,2510084300L,618709104L,241209437L,584199171L,240827371L,2590141398L,77925062L,2517255841L,327577694L,2424695659L,22961942L,2241505099L,1616644764L,19902826L,24725800L,2252657876L,2617660668L,2715319927L,1863504378L,1718540178L,20064603L,2393258556L,315764180L,2441803513L,2440991282L,259000450L,16100489L,1920515281L,2593810105L,2393154212L,6550222L,2577220537L,1075531380L,18154412L,6658762L,1912509522L,48947925L,23137860L,7782442L,2706627234L,105623556L,2456443002L,2463940681L,347678763L,2151686839L,20356625L,13285182L,74110152L,2294267941L,19441810L,2509222064L,421975095L,14149992L,389281846L,2674510040L,2423761008L,1341469944L,1267233378L,1118373612L,1365655548L,555215636L,193093810L,359642639L,2692865550L,2697502717L,1458005406L,2198390371L,1355725934L,2398407836L,1703240870L,2342495588L,574032254L,2212051490L,386263972L,2361179618L,1466726246L,2701451581L,2233435949L,2420855804L,2647219033L,2399915394L,2601630428L,2480497886L,2561073732L,2327942047L,2535347246L,1978406809L,1333467482L,2313379038L,2302030848L,2419521381L,1430981724L,1902922477L,1105795165L,2398658898L,2290807038L,2330483317L,2399433313L,2559894493L,1416282756L,1527017959L,1537887786L,1599380390L,2548777740L,1129728541L,2338865839L,2307770395L,2319848474L,2206108249L,2348087750L,2306171096L,2277074592L,981273865L,1426204208L,365761759L,2178180668L,2260491445L,2475999072L,1406917494L,1423233990L,2201421109L,2219770692L,2232163009L,1710927229L,1963976948L,1674504678L,2490414211L,2737686289L,757821493L,2228542561L,2338087238L,2211429601L,2226509130L,262683177L,1700879791L,2486772820L,1196956998L,2296009579L,1379386514L,1484651623L,2262331846L,287350085L,2352838376L,1631252028L,2335273189L,2576099707L,2619999080L,2624999660L,2279768305L,2214861047L,2235218431L,1949161208L,1685625979L,1865180844L,2521932686L,2207129125L,1422566208L,2300506278L,2596731175L,1493592943L,569953061L,2296383162L,2368681057L,2413162011L,2310986355L,1670923477L,2495642714L,1416245712L,2319029696L,2263738520L,1421275063L,2269664563L,2332076899L,386600115L,14456539L,15378138L,2379624572L,2480235020L,2332462670L,1458574586L,2413444550L,2174732077L,2336321130L,141395357L,2375529043L,196601199L,2298769327L,2607948882L,2293045254L,976034137L,2368341397L,1484162798L,1596402054L,2318072534L,2395733234L,2405896598L,2399059885L,44279796L,2396896344L,2346806455L,1393865996L,2790030462L,2350970786L,2542617157L,2368961174L,2282988859L,2310472259L,2615551112L,2494237843L,2602700654L,2287149931L,2677442358L,1860483781L,2596272643L,24852276L,2464641332L,2312455356L,393722501L,1852357741L,1099796888L,2411936816L,1422335670L,1677650622L,2502358383L,303823825L,2459956231L,2342902970L,1528177268L,2308370653L,2346044533L,2347368960L,2304183664L,2338731320L,2182962445L,2358311520L,1430468916L,2301895027L,2462393748L,2460115938L,2416023134L,2367376711L,1862215608L,1856523530L,1414582549L,2308093620L,1627275259L,2605131546L,2395503710L,2373921949L,2363194152L,381212639L,1462323200L,28234503L,2466485911L,2337379322L,2360306029L,2301367044L,2409803270L,2232729908L,2293341602L,2317594316L,2238979286L,1958433596L,19073422L,2245179020L,2328769301L,1329988598L,2319362556L,1677615949L,2367271502L,2455855003L,1521011041L,1356174493L,2335266072L,2304513398L,1629218946L,2308589126L,2389253808L,2520888308L,2379591920L,2214630456L,2489451596L,2542000201L,416650125L,1898583763L,2422483501L,2453589074L,2422713289L,769535858L,2379091686L,2409137940L,524992411L,2484704827L,2294431609L,2275544384L,2333024468L,2561531706L,2276940194L,2705075796L,467544214L,2357587387L,2409402703L,2247145022L,2602903938L,2219901158L,2340848875L,2417687492L,2446024556L,2263229827L,116966175L,2428965361L,609468038L,2367670062L,1329957756L,2316993811L,2297292997L,1657943804L,2435420810L,2248449816L,1444241532L,2575015087L,2200147865L,1600370540L,2573387736L,2312625338L,1652307524L,2557291584L,2463142351L,773773628L,2433432126L,1522357730L,2721998404L,232194286L,2433370358L,2444609490L,2287447208L,1424086592L,2612600022L,2330528036L,220646136L,2407504556L,2556755965L,2331304999L,2243073415L,165633902L,2809242392L,2342324238L,2231431141L,2456191308L,2319408763L,2302212254L,2291935088L,2153022625L,2344255323L,239822603L,485882339L,2450815056L,2321345647L,2596681850L,2598336504L,2384222786L,558018978L,221071894L,1866298082L,2262964464L,1551747199L,2576242316L,2278088154L,2460897080L,2433337028L,2733006991L,2595835519L,18068353L,2384155158L,2692625562L,2279701020L,2461030028L,2329560908L,2238091633L,2411568205L,2572006086L,2476650397L,1489350230L,2336803157L,2704170858L,2310297636L,2468508330L,260316814L,2319314552L,536167980L,30477563L,47968683L,256088045L,707119819L,2451986930L,2246018504L,2298296796L,2475742609L,2461754790L,2402070984L,4339041L,16309899L,7920922L,27452535L,16524343L,19586905L,975787016L,2634274458L,15029927L,2321350494L,2338506822L,2407161257L,2220138374L,260923971L,548531623L,1353278066L,2731006566L,411539821L,614261017L,26768561L,179980928L,31701010L,18838540L,2544862219L,1464679609L,2265071515L,181591420L,75974998L,310425936L,2170217153L,2712839634L,2395367155L,343356359L,23656945L,187978594L,961098271L,2583258872L,372589495L,2324397774L,186472450L,251254199L,2463812988L,20681763L,2337997597L,2683571196L,2396607745L,376195685L,2266631022L,2290681818L,46587787L,1310721L,2178242827L,299867631L,37390040L,2365132326L,17186834L,1729492500L,2326070900L,130876609L,205801132L,257023889L,431007776L,2366942234L,2484721741L,2364829015L,2792502001L,2310066967L,2235729541L,2386403768L,2345210598L,5663192L,2301680204L,851708503L,2743141165L,61989169L,35125949L,2477083290L,80131438L,264405254L,19643545L,438829074L,209126114L,19387126L,1489581L,1662202914L,119926952L,18633731L,84909450L,9615352L,213185539L,7091112L,720092996L,1701308766L,38907891L,83466368L,2376985614L,2445508370L,246616450L,2348244595L,16420229L,86830328L,162323929L,113386943L,1155585566L,109545789L,2366835468L,19000224L,399412477L,248362449L,472783940L,62269239L,1916826175L,2759538227L,1344645140L,2416428684L,2450478554L,11166282L,2417856962L,2414594850L,2377115558L,961088954L,249278452L,2671246585L,97435591L,20086239L,2376024072L,361554867L,2254927386L,2263656044L,2723104925L,52082542L,27660244L,1670411502L,206583584L,1909197750L,1609928042L,31460217L,1328350513L,2665388569L,2400055351L,2645516504L,34372258L,2456453575L,2414061198L,2351040798L,2396394860L,22385904L,1702682312L,2723318012L,222471144L,497995255L,2191536853L,106985950L,1728854642L,2155750167L,2510260668L,1575620131L,494067493L,475630454L,1457614386L,2356107468L,2345695230L,599049977L,45401607L,1686003068L,2719244960L,2235753703L,236663818L,1702178599L,135980373L,297897603L,2445129295L,1221931562L,2386331916L,2465210088L,2336915726L,279697896L,2248455812L,2405360414L,2406291770L,2294321154L,198328580L,2321935855L,2779933484L,50421523L,2569350374L,2759537759L,1421188585L,371017223L,9717812L,1364761980L,28063981L,35008698L,2237114579L,2161821500L,281816135L,2384550564L,762218449L,51088856L,2547284799L,2198444604L,299481102L,2330213353L,2530959439L,524569537L,2796235358L,2530285952L,1897582214L,1391664912L,23452820L,44986650L,1512098635L,2420616888L,569178408L,2578973684L,2428792844L,763798L,223487393L,2365985360L,2268656437L,53307005L,6793252L,2203102299L,2726288998L,2620427880L,851995940L,1463788003L,40451792L,2583077821L,2374567051L,2244320174L,2430552198L,802941816L,37346709L,2272600994L,13493592L,2221859437L,396038597L,87494620L,54244012L,785778427L,12212L,2221741436L,371447953L,22384268L,121208633L,210617781L,2463832009L,15836377L,2553785804L,2783793384L,39613642L,18983132L,2193930343L,2408860442L,2362341804L,383053632L,265559976L,1580847698L,2654370114L,257085972L,105912547L,2425322684L,156995497L,2589840943L,20235950L,802225L,2588067271L,492064542L,196419329L,2571258674L,137989479L,2696955264L,227470090L,52739234L,2291979780L,6799092L,2383411874L,2435195054L,1567256983L,2350119740L,2218542704L,875988247L,1586736096L,2230607126L,329062007L,819814L,2351113374L,2476424478L,32840777L,2511349693L,2310129848L,5482372L,2795748140L,270723897L,15672869L,2380596110L,2390647591L,2379976232L,1364642054L,1595615893L,11322372L,1158273668L,2652032094L,1141179834L,2386122979L,2400075631L,2421429734L,2394835411L,2399791014L,2275802862L,2489990580L,137796394L,417100889L,2527223036L,2701153873L,1960403330L,1258113061L,92498320L,328601406L,1697580223L,1696874269L,485835818L,2561808524L,2156463577L,421878407L,42889738L,776654600L,2677557343L,2368596187L,2448531482L,1650866053L,2400204420L,1413332510L,92411036L,783440136L,1685411L,2487257818L,337239968L,1471719000L,2761895491L,2611639314L,301010289L,459936166L,2572108555L,2404208676L,712580966L,37707331L,2610349321L,828777793L,94004726L,480070160L,1876837532L,247187808L,317025554L,150125493L,21520419L,2214839078L,93295809L,198504873L,508953605L,798726734L,646153L,76143L,14846194L,143931236L,278154986L,122092489L,17396038L,222367117L,141156695L,28093733L,1339267513L,291511317L,2215214240L,36347192L,333817958L,243621425L,66950686L,2677825302L,2269203073L,38579685L,135229601L,15369123L,2232218690L,12498082L,1133351336L,169676997L,224955613L,2308429837L,35749949L,1098681096L,29960671L,14714979L,2733621400L,26532789L,38949370L,2416890145L,18137981L,2564185735L,10358052L,15106933L,276656109L,4828981L,14672392L,14393756L,25605494L,34612564L,46038999L,14116342L,921839401L,164916886L,1404650310L,297065591L,17636509L,2664467498L,2490459582L,92529382L,14598134L,21925490L,14444941L,737946372L,511970204L,232991743L,284737750L,39222068L,22031726L,11728992L,1260765168L,20842848L,305643230L,14196511L,2448059157L,20803620L,19302427L,62886110L,40148301L,57320859L,23978388L,1449178470L,36393115L,15524228L,2233245703L,347730881L,2521020643L,2209519381L,2384463408L,2262061560L,784519L,2287698954L,547007288L,150799800L,755419507L,1329894067L,2377654520L,13965492L,2166708276L,1872028693L,15794404L,2431580779L,2221602384L,398585833L,1562588947L,2801110812L,1399148563L,2468282359L,118699429L,392927357L,2810452478L,272578582L,2722551020L,2329356506L,2230675752L,2521075591L,2268165020L,590525923L,2546700895L,24357549L,2299554823L,1190256253L,7396822L,2343836600L,287769673L,289564880L,2742020989L,96396125L,201387364L,2342402455L,2309818874L,2518784544L,39066951L,1647081858L,163051182L,2485427205L,2721621668L,302510445L,1379130169L,963241754L,2338907259L,1380695610L,367743069L,2235136754L,134411372L,21558596L,1384955754L,1210952893L,1325629370L,2623464418L,2423211476L,15119529L,385562752L,1268291780L,1393174363L,1379072365L,2226830395L,475106078L,2759564242L,106124522L,609091503L,2200360908L,1523185238L,143977123L,1223385103L,17588600L,813883412L,2608353780L,8432752L,95994080L,2216237670L,353813389L,2455300670L,14763764L,455699696L,13244152L,16451932L,2409710738L,25127035L,18160134L,2334920414L,871107427L,2611725756L,9863612L,488536612L,15320102L,222531597L,549304757L,33149849L,35865236L,17591742L,196044151L,1628642976L,2382833052L,2455746828L,252569527L,14638841L,217503506L,106234268L,433518591L,10739992L,52340418L,21122421L,386588359L,295862357L,2295803233L,2312008597L,2363896933L,2596705452L,301731542L,2482090896L,2220287622L,2402032692L,2320404222L,1129116216L,276402316L,2180526523L,2214916674L,1979449668L,2667670064L,1567096106L,36033287L,730086612L,1870417183L,15364687L,22162666L,2715312378L,1045007220L,71787994L,282552417L,2224075856L,27422071L,102784774L,40586273L,20929072L,1325282202L,2363586666L,2343566634L,2400183606L,2653394250L,2322494803L,2320806962L,2417542227L,2387827116L,802702237L,2328351174L,2154512879L,2218547448L,13325762L,376172658L,1878595094L,361666014L,1585932799L,25052903L,2426280816L,1354739114L,2478439963L,2532954854L,460584564L,113061083L,130471189L,24723897L,559797807L,83704207L,92279996L,18634281L,119365950L,1704878910L,40182630L,15232850L,71291767L,1020203322L,14326675L,15855616L,941182304L,152460986L,2272208143L,1370444665L,418803165L,709294406L,2292281622L,6015932L,1733867336L,1591747004L,2455304028L,2178858974L,24546521L,2420979416L,1729661822L,85868590L,14684626L,36477638L,343902575L,260146304L,2313072698L,777220598L,2280289681L,2430969794L,15134307L,2676288085L,164628863L,1274469684L,2161995060L,2241456800L,2433648590L,2365613563L,86508614L,43514030L,2161496719L,381185553L,606286599L,335311525L,239871798L,1527962941L,52160722L,15509954L,612458670L,2465184583L,110075039L,2480548052L,2313671966L,2320852861L,2723492052L,2585736660L,1492819644L,2743312900L,213829067L,2323493340L,2603955661L,59307142L,1344389899L,2150123534L,2340647486L,2534386154L,14199521L,1223938794L,1315790306L,20588098L,1901611970L,17811957L,38270714L,2674226202L,2419465506L,2211174856L,2260789034L,1293548664L,2244257760L,2355533382L,1736280751L,36081258L,1077965228L,27557141L,2576848693L,2585829824L,2574819667L,2574828552L,2574721470L,2576846984L,2575007623L,2573084024L,2574845166L,2574957176L,2576864514L,2576965832L,2574985188L,1975454844L,1920655710L,27583645L,2243862290L,2328704769L,2502162932L,2302018777L,13697L,859226797L,487696298L,814667L,264828029L,2314224984L,15885871L,519800095L,38392573L,2445396642L,16912671L,32356246L,322547469L,145947376L,2350794840L,2578447430L,2153282234L,2705309263L,2779711375L,2516688952L,2310777235L,2460051793L,2351872981L,2344127941L,45261625L,2230299369L,129194365L,2569417056L,151012533L,1604647603L,1852375970L,1383135702L,2287471915L,62281954L,2306763157L,2457409999L,2492264401L,16493930L,98872165L,373410923L,221338206L,39207995L,1914781147L,338207111L,2485860480L,28919797L,17392240L,33856538L,140808864L,2167563187L,390656761L,342768965L,2387789618L,2594856620L,172289207L,341746855L,89175851L,1471313300L,308265684L,611780076L,19069440L,7643372L,700195467L,1937793373L,16105237L,2397706092L,2353870874L,566899596L,319900653L,429490578L,2557453404L,1407628819L,605856131L,2810056274L,304006109L,41193L,2605061959L,14371655L,2537375857L,2450494832L,2317217822L,2307218970L,2639468239L,7347012L,2288889440L,2208101450L,2194899020L,2661528013L,2413976168L,2266309700L,2314000705L,2344808299L,1853339276L,1435461608L,2584214035L,1882168650L,1167764648L,2336078372L,1583507190L,1608967069L,2303605586L,383156291L,2394008658L,547679335L,2258082151L,18297543L,2727626096L,2283506731L,51406900L,2398235546L,2765226284L,2280782923L,63159399L,2446042801L,2255724792L,129532508L,2222816113L,2496266659L,2392005812L,1347812419L,2335911301L,20055191L,2696197700L,351228844L,334079148L,43116045L,1075901425L,2571752209L,39033726L,266036162L,46498861L,2675098898L,2730064296L,921400778L,2314562610L,234912898L,1614345643L,2163909828L,1081699639L,268205675L,169276166L,2149236450L,2690472098L,951006367L,17047434L,2373803311L,18888820L,529771597L,527932109L,15034917L,282478907L,603094930L,2586042583L,472325542L,14629462L,21307888L,2525543532L,1222472503L,2703837784L,1426844426L,1051053836L,1905095641L,160522286L,1515392432L,2605697964L,6095822L,1668554546L,1586601326L,14144398L,21436506L,6750752L,45774330L,2497324873L,2515887780L,2694402566L,16334783L,2791497348L,14648962L,2523078991L,25034284L,361423475L,2948211L,1346817354L,198690162L,12061032L,2437048214L,16866170L,413180125L,26239076L,272052019L,17678085L,19688667L,269271423L,1617392467L,18469669L,2397607368L,145811411L,419649237L,251176049L,17868705L,384032274L,431317100L,861075427L,507204573L,509797544L,2419805060L,2291673639L,2728762555L,562316907L,2266707271L,125196986L,243840904L,2262119468L,131192688L,53315871L,42383421L,355918876L,2697847370L,2377831164L,418789376L,2324184558L,2476339638L,279833293L,11162592L,48813277L,182006140L,1436771642L,1403949241L,15306082L,327205199L,607498773L,2385750270L,545715221L,1614494702L,543743228L,2579243714L,115489942L,1611865789L,1587172549L,2772244069L,2777844974L,17977475L,2561715571L,2459215261L,18012384L,2336334722L,381212752L,2375449800L,1323039649L,2249796589L,390667542L,1638270607L,2305628744L,110922116L,2480336251L,48798180L,108925379L,95449346L,2369135388L,1246251662L,2373111157L,250560251L,381198038L,243580662L,553753344L,1699413122L,2160055980L,954720871L,5870242L,1064741256L,597721437L,2227310618L,608252528L,55671407L,216655995L,2593604311L,2400802573L,2244295159L,19773268L,16883838L,2329376978L,459779185L,249134535L,257636955L,2582626465L,2273985072L,14802014L,1527806202L,2385732037L,310399830L,306545682L,366104267L,332375984L,2280862698L,2370239502L,1951038848L,2273187548L,2460502890L,230517800L,18802551L,15682552L,290183114L,27709461L,20956923L,2724681785L,79761601L,281502332L,345738416L,2200176114L,1937087244L,1690347601L,1672255892L,42386348L,2272292319L,2431785793L,77807166L,1643739668L,119060937L,19651231L,54866589L,61628815L,2327954702L,2630377824L,2228932730L,2244022064L,2379836341L,34231071L,17898357L,33704279L,205761169L,6857232L,2346209293L,2468821400L,49476182L,2472254341L,2367307028L,2372712211L,150002397L,2372197513L,2225895566L,45077567L,2388015642L,2372555492L,1463450342L,2291938488L,1970272057L,2273572556L,1343354948L,1398412014L,2696209237L,22840842L,2254118922L,2790458455L,2337009366L,2317455648L,2273356700L,2229103004L,2246827121L,492059269L,2327888161L,2288573108L,1561107559L,2409428359L,2358022490L,2312420372L,2233352208L,30579101L,2369627384L,2652920774L,2380465687L,2332710751L,540876800L,455868132L,46688460L,27264042L,1669448522L,2424275857L,2420467715L,2334068923L,2402406811L,1639237562L,77630385L,1950996829L,569207907L,2222061030L,2313992502L,485147004L,2533378032L,21295652L,2374069022L,51260502L,83864968L,56400087L,64529052L,235314284L,10933552L,107075639L,2784532830L,2357688096L,2421189014L,2475860526L,2667208280L,2593709460L,2492507066L,129279182L,226549651L,14206068L,2565409752L,284178022L,845754786L,25307983L,17213382L,57475289L,45596333L,820582093L,65417407L,57689645L,1330477226L,301723305L,2313884124L,79060391L,228380252L,2348537208L,1580054484L,268532619L,2806310688L,2338193426L,730337431L,15145762L,2458611126L,2399089015L,917614586L,1542271266L,2376965870L,2434036304L,23423359L,404207758L,2459319727L,2457683928L,2325992934L,379305414L,771655646L,2727884968L,1332042942L,54622027L,2503158036L,155762930L,2149856370L,2366962609L,399822089L,25288785L,2312776951L,2318701463L,2557641355L,2499168360L,2436257148L,2511178802L,2559499986L,2275810436L,2595164142L,14336151L,2252300041L,2432540773L,2446274048L,72049603L,2561607684L,22484810L,2218058070L,2254068349L,203109320L,240531800L,2727015983L,17348043L,180212381L,14423379L,2382609071L,41584238L,2568399732L,1649055714L,21901064L,2410047721L,2313769146L,15443845L,2447209717L,2782924616L,15519304L,18804654L,692023L,176068393L,1436700416L,252514016L,2444478354L,2571618025L,2202922362L,2801534743L,39997988L,309202372L,2443058040L,997600459L,45262242L,600524171L,422640612L,69748042L,26866426L,2507133859L,2730082602L,1580114557L,2557807074L,1894221596L,56000672L,2354063868L,2291053022L,2305059338L,2474577541L,108856742L,1694861228L,1466601224L,2450180160L,1651775515L,142634586L,2329526714L,2296575456L,2408038603L,2321928620L,2250858594L,18416400L,2202464676L,61409691L,2511383156L,2450273904L,2407088308L,24500377L,2561239784L,12864452L,2346120139L,21051918L,78048656L,2211823729L,2620121233L,200771926L,346479186L,2450991854L,544329984L,16360722L,2367545192L,90763849L,2709919201L,1672692702L,2606087893L,63723964L,136405074L,136419993L,2598657379L,6587832L,2339448108L,1557008785L,316243667L,1434488976L,739278854L,2284207400L,1462739269L,2514974702L,2223714798L,2584766250L,523723313L,20152310L,1132291L,14182218L,2574021385L,2307230179L,21308504L,294552788L,20302047L,164688517L,2345982576L,2573583518L,2357130775L,2349169513L,60956169L,2259310381L,14620139L,450072786L,2406856368L,2649124466L,2585334690L,2334261176L,2177071759L,2353448474L,2222048700L,2430224136L,2377104967L,2451053864L,2238504192L,2153256288L,2352196339L,2236717045L,2438036449L,2236178910L,230527949L,2538210566L,16738523L,2226348194L,20626144L,2213180172L,2312902531L,547911880L,2325079344L,2491929121L,381191667L,2578091251L,23542618L,2585967517L,2573093233L,2291777390L,2318948863L,2697382273L,2291990360L,2594113993L,2376411612L,182960865L,1702168231L,2460750546L,1542077892L,1387578740L,2183391169L,2247941894L,2745497126L,2222000168L,580200257L,2239761224L,2724205764L,538730516L,2266263206L,1456862796L,2569499598L,2252833814L,1344636102L,2228663384L,2540720304L,2273572789L,2191511023L,2409692293L,1670399954L,1630577059L,2303086927L,753750018L,2699265745L,2222914789L,273746596L,1375416505L,2354667003L,1257242263L,1120251200L,2444278363L,2402372732L,370708942L,2363487990L,2299278827L,632735641L,1516674386L,2691493129L,2762954665L,513467907L,2283877213L,2258034260L,18734358L,2199847292L,745687860L,2206659073L,1671239640L,381201897L,2478575828L,376565719L,2764597404L,1859620855L,2331688646L,2694311868L,2257976450L,2362059150L,1371209732L,450947924L,2276767032L,1324333908L,501976813L,544979369L,29034624L,2378128652L,17718814L,831963385L,2226037886L,96239664L,16141991L,2672943956L,1518938623L,2236753543L,16184358L,2238288025L,1172707032L,2438427380L,2332481491L,2367504330L,2582914267L,1512005262L,2235622382L,2501820794L,2474586013L,2234450148L,2345145002L,2395977493L,2254504825L,1610664336L,2273391840L,2352274284L,2462527430L,2262634886L,2443864880L,2544777312L,2310847538L,2467204447L,6798592L,1265612173L,1682967854L,2322846201L,2199095514L,2187436049L,2301641876L,2226561180L,2451225236L,2728618266L,2452745850L,2416124922L,2596226534L,1660359212L,2288293826L,2228935254L,2422531939L,2302163059L,191767033L,2741323054L,1361039118L,1450143883L,2226200089L,2290144747L,2537237557L,2488283222L,2246334331L,2591054760L,2498938130L,138523137L,2305782554L,2492324845L,2486687870L,2400496460L,2308409648L,2275013662L,2242465158L,387861733L,632363961L,2228738394L,2219192521L,2356688198L,2446824480L,2473926210L,2420801809L,2212061141L,2548598234L,2414545644L,2784462954L,1593801920L,340184688L,1377089258L,1963300418L,2423135832L,2387164681L,144386924L,14098669L,49028284L,1625791447L,2592741468L,220974701L,2324092309L,583959346L,1375719751L,2432882095L,2294202321L,2269078292L,2405018688L,2182945104L,2325928813L,2472238814L,144505460L,1890607178L,18932935L,331850858L,2541927152L,134891802L,2498748548L,56789605L,2664945139L,2596232539L,265991923L,2564623844L,316983139L,84606546L,1373856847L,220971012L,106147007L,2296288333L,5484502L,2265995556L,2467956192L,29175949L,255355106L,577553459L,227637029L,2393655090L,381174944L,2334070482L,22977825L,19924691L,2281415593L,1873573621L,2548654315L,2602862346L,2700809730L,54847350L,216368649L,2412982777L,560040021L,2208328500L,194097857L,2287648848L,2381316481L,2258179363L,2215498945L,2501762808L,24808228L,25234157L,2535840451L,247176773L,2337491262L,2584400712L,2648931079L,14408185L,19976748L,250221450L,154209001L,25992562L,15969848L,816838L,344925704L,221618035L,1452180834L,2295386088L,14166026L,27805380L,1419412153L,2276379296L,42992649L,70718677L,14907468L,2294715644L,861304268L,2530506919L,712881733L,27023307L,19724036L,2435694072L,2200708910L,486954815L,2616318362L,14928942L,1327769568L,54598980L,227418944L,2366303126L,1338191270L,2384363672L,2437368144L,2604429991L,619303L,2320443654L,2575007138L,1466189700L,2314227612L,46869914L,16179805L,2482963466L,165190014L,1893890754L,2319494958L,2248110146L,2228862812L,2396894258L,14418873L,2328807065L,52335744L,179461935L,37417270L,2492130176L,16458844L,15174692L,4034031L,1960439930L,537570342L,2584595419L,388579395L,85726089L,286728598L,2532881881L,16670774L,2279681898L,2600194316L,872738546L,89429647L,765007633L,183816474L,2276194537L,917655432L,2278542824L,2801347050L,10446482L,2239885255L,2360654905L,287284948L,2288771270L,2587938332L,14434688L,1086950162L,1608400430L,20521873L,2326168699L,335877098L,61017258L,459146464L,2460445424L,19312115L,79983286L,2218489248L,201875169L,36609124L,2646774571L,44174493L,2220837499L,70607600L,217590569L,47273529L,15905103L,64642607L,2356574996L,2740171926L,2664792266L,2324587142L,85567835L,1289426263L,553807422L,1373395154L,1621024344L,381218136L,1963154750L,212587812L,135977208L,2591939491L,2684054892L,88936049L,3107271L,18358836L,50264379L,2360219959L,2333652252L,2279318342L,2406122988L,290977100L,339441441L,200169107L,2398629950L,1739367744L,2178721315L,2226064693L,1953108752L,1857544458L,2178163129L,19459100L,20887841L,1455084547L,179085895L,2403469828L,18201699L,2345414360L,1337991073L,2218695248L,2680295102L,224453100L,2326120100L,2483410794L,2553526670L,2383515716L,2727488095L,13531682L,467793677L,18248948L,57708109L,2347592509L,239433097L,48064561L,423847817L,43027023L,2283779256L,2345648568L,1095596473L,836675654L,2584994952L,2698307036L,292176600L,91951829L,1566259446L,2347583498L,78697700L,16443393L,17234234L,2400670752L,2254417807L,2375967853L,2341060992L,73713248L,2594553979L,148356704L,1426074565L,2218413296L,2240169361L,342862480L,2321378298L,2322888908L,23214110L,1385821218L,2696454104L,2463285680L,2649102596L,2463529423L,269721555L,2487792392L,2440897582L,51194306L,295500287L,2569890612L,305034111L,2410909952L,15764136L,2321557470L,18307362L,49573449L,2309346044L,2535613592L,2471721170L,462746400L,2362909520L,1391809814L,139722074L,2647037660L,2290674582L,2409735355L,2310942446L,2275188243L,2239417057L,2218812745L,1410710136L,14651754L,615220309L,15335709L,139039906L,2477265240L};
				
				ArrayList<Long> allUsers = new ArrayList<Long>();
				
				ArrayList<Long> friendsIDsList = new ArrayList<Long>();
				
				for(long id:friendsIDs)
				{
					friendsIDsList.add(id);
				}
	            
	                
	                int i = 0;
	                int counter = 0;
	                for (long id : allUsersArray) {
	                	
	                	if(friendsIDsList.contains(id))
	                		continue;
	                	
	                	long cursor = -1;
	                	User currUser = null;
	                	
	                	boolean exists = true;
	                	try{
	                	currUser = twitter.showUser(id);
	                    
	                	}
	                	catch(TwitterException te)
	                	{
	                		if(te.getStatusCode()==404)
	                		{
	                			exists = false;
	                			System.out.println("Could not find specified user");
	                			continue;
	                		}
	                		
	                		else if(te.getStatusCode()==429)
	                		{
	                			System.out.println("Waiting...");
	                			Thread.sleep(15*60*1000);
	                			currUser = twitter.showUser(id);
	                		}
	                		
	                		else
	                		{
	                			System.out.println("Something went wrong. Trying to continue");
	                			continue;
	                		}
	                	}
	                	if(exists==true)
	                	{
		                	do{
		                		ids = null;
		                		try{
		                		ids = twitter.getFriendsIDs(id,cursor);
		                		
		                		}
		                		catch(TwitterException te)
			                	{
			                		if(te.getStatusCode()==404)
			                		{
			                			exists = false;
			                			System.out.println("Could not find specified user");
			                			continue;
			                		}
			                		
			                		else if(te.getStatusCode()==429)
			                		{
			                			System.out.println("Waiting...");
			                			Thread.sleep(15*60*1000);
			                			ids = twitter.getFriendsIDs(id,cursor);
			                		}
			                		
			                		else
			                		{
			                			System.out.println("Something went wrong. Trying to continue");
			                			continue;
			                		}
			                	}
		                		String rawJSON = TwitterObjectFactory.getRawJSON(ids);
			                    String fileName = "new_friends_list/" + currUser.getScreenName() + "_friends_"+cursor+".json";
			                    storeJSON(rawJSON, fileName);
			                    System.out.println("JSON no. "+counter++);
		                	}
		                	while ((cursor = ids.getNextCursor()) != 0);
	                	}
	                	
	                    
	                }
	            
	        } catch (TwitterException te) {
	            te.printStackTrace();
	            System.out.println("Failed to get friends' ids: " + te.getMessage());
	            
	            System.exit(-1);
	        } catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
	    }
	    private static void storeJSON(String rawJSON, String fileName) throws IOException {
	        FileOutputStream fos = null;
	        OutputStreamWriter osw = null;
	        BufferedWriter bw = null;
	        try {
	            fos = new FileOutputStream(fileName);
	            osw = new OutputStreamWriter(fos, "UTF-8");
	            bw = new BufferedWriter(osw);
	            bw.write(rawJSON);
	            bw.flush();
	        } finally {
	            if (bw != null) {
	                try {
	                    bw.close();
	                } catch (IOException ignore) {
	                }
	            }
	            if (osw != null) {
	                try {
	                    osw.close();
	                } catch (IOException ignore) {
	                }
	            }
	            if (fos != null) {
	                try {
	                    fos.close();	
	                } catch (IOException ignore) {
	                }
	            }
	        }
	    }
}
